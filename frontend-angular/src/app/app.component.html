<!-- If the user is logged in, show the appropriate dashboard -->
<div *ngIf="isLoggedIn; else showLogin">
  <!-- Main Header with Logout Button -->
  <mat-toolbar color="primary" class="app-toolbar">
    <mat-icon class="toolbar-icon">verified_user</mat-icon>
    <span class="app-title">ProximaForte BioVerifyâ„¢</span>
    <span class="spacer"></span>
    <button mat-button (click)="logout()">
      <mat-icon>logout</mat-icon>
      <span>Sign Out</span>
    </button>
  </mat-toolbar>

  <main class="main-content">
    <!-- GLOBAL_SUPER_ADMIN View -->
    <div *ngIf="userRole === 'GLOBAL_SUPER_ADMIN'">
      <h2>Global Admin Dashboard</h2>
      <!-- THIS LINE ADDS THE FORM TO THE VIEW -->
      <app-tenant-form></app-tenant-form>
      <hr class="divider">
      <app-tenant-list></app-tenant-list>
    </div>

    <!-- TENANT_ADMIN View -->
    <div *ngIf="userRole === 'TENANT_ADMIN'">
       <h2>Tenant Admin Dashboard</h2>
       <p>Upload and manage records for your tenant.</p>
       <hr class="divider">
      <app-file-upload></app-file-upload>
    </div>
  </main>
</div>

<!-- Otherwise, show the login page -->
<ng-template #showLogin>
  <app-login></app-login>
</ng-template>
